language: java
addons:
  sonarcloud:
    organization: extreme-startup-taf
    token:
      secure: QXXhNVfLvPnah78k6sGF9vbzQgARpCS85le4bkrt5uGPmFZ6OVDU3JqoZr8qA+uVs77GtJXOAljzidBUKYJYfkIPssiF2INORMePo1O1esx1kEfp29Pao0+j3M7XvDxaUYW20r6Vnh4l1Pq1xNLvVmRo2qui+Lfcoiz9Dw1mL63iVMAHayxRYEx/sr9/ZIcJ39skq+lsWCW5Npcqq/Wcd8ZbIatvD4LMDl4LArQMlNHR8e/GQius1rXPyaIdQAdqzI7OzT5ggoZw1MRc7+lk/S0KALtPUPpP7iC6QDOs+9g3gasfAefhkG7wFEUeIERj61fU9vhkPpwVlMDZLBx0SrdYHNUyk+kCgx/jnB+cXYfwxPQqvZIxOnPlzfLjAMccSf0XjoKsFVBzdeEUbrY626JaBcDWhzFVTMpSit7k0eGo3fGUF31OpAJLczgl1M1P84+MnF/vqRcjSnqDzg0IuKKmuoGI5BVjg+2T0IHaS+9QxFKmT3gyaJ7nIbt5BwpwauNrTJSGg8675auMHzMChaKWQL6JFBb0Gmhnn8DaDTNvsCx0UDEcB/tcXo5rP4Ko7MH48Kwz1/BEclDqGreR86TKFRLJPMQTbiUngjtMTPw+w00UnbKfycY97rwo5IyMaIpeqaJRQZqlq5XYrvaU58zXOC/S52nQdTn6yBSlRsI=
before_install:
- chmod +x mvnw
install:
- "./mvnw clean install"
script:
- "./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar"
- "./mvnw -P generate generate-test-sources"
- "./mvnw -P run integration-test -Dselenide.remote=http://35.234.68.105:4444/wd/hub"
after_script:
- "./mvnw -P generate-report post-integration-test"
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  github-token:
    secure: uEq3Zuh1ciC7JO8+jEECumLGo/mEYZ2XRjnh1OLloD1uBOepxLvAXhwngOpLejrygfjrPJiOksoRM2DTdYp1i/MyNJ2oE6Jlo9dzQlSYGFxjlau2FchAt+FxAuBugFREVL+Nt8WLoiE8YU5Q+IEsd1Yr09AtEv/QxQ6K8omakQFkFsM7tRrdjvYSpjlnAWdsyCCbwwiYVcM2NM+v6w4C/Q+UnxZuykqhiZN/t3UMyae5InXTZNHZmnckdJjzD07MvTyZOpLg4QkpouByY1khqIBrSBs1dvrmu55YOqgbUqCoLVdt5oUUjK94c/KElyULERf2ErFvvXOzKXewxQgAZ91cFBHmUhILSj5KszpMRxja3yhvCRDmq6KjPvMLyaxcIUbYXMdwaQQsEIwx+hlcy0EQmen1AwXDgnE91JtmgYAqA0t233elNNhhFgFWixUwdy61fbECCS/qr8FgHNvGjjpYWnS9K4BEAR6DOdEzY/G+XfBLX6G0ZIsjJ4p7M4SH5x7KrhSAkXynoJZlqGtgcXE/IsrlXuAmXcpf6S7ttEpaz4fSJpHK+gnRYjp7JpNwXXATuj87f3nJEg7dmI0KkEGEc8ZsfNXMFNvEnxaPtOxTuGjLuG1F2vwS3nwh4AIwsX7e7/AsZeTZrIOihiBq1lIuO6BWOVcDSf3TE6vc8Zw=
  local-dir: target/cluecumber-report
  on:
    branch: master