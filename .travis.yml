language: java
addons:
  sonarcloud:
    organization: extreme-startup-taf
    token:
      secure: I0IVJpga6SYaI7XSo79uzbV9bszaw89Qe5Qqs/KHaPfPAR8TsEcR3ZvchAzN1al5mwIsi9REex8usSrV+DwHOzrKSeBI9r9chNidSlnuTPLgnsgoiBO2Wj8Ic0cY4jwu6dSt/G8DvS9B/FKe2Ov53yEpkGkGSPIhariAT6QgM9aGJhpflQyc18aUKX1oeo9kvR8pxGVYWzjozujFbrHBgdcZHnTT0/DxWBD3qbXhNqL85sViqCjtiCmwUDHRv5IBpR5r1jhL0nqCoP8F01qDvXpZJ5nmXmUP/WfjmFrY6BoJG7l2hmZRyozGOM8i4e17ugf10R4Z6esd7I3V++4esWiiSxq2NM6Dx85gnJ5w9fwmt4yDgpau2wGRVr36bKDshyiviHrSqAYJ8XFY/R8B9W72KMue1Fatr7lBqx9+EVJ2rMEaKcQd7u6YEAypOIAuF/CHSSbQqVq23Nzg4pkJKD5rhea2bCnr5YXr/bTdaSevLKgLD91q1hgvEKNsfm8rYYI94+X3OGhmc+7upFF7IfMQuJKTuw0/5oZBs7ASNgWJgXpLk12344Qa4f4cC2pkMPbe5X+IuKsBLeMj9kV/iug9HPD9an0fjr79yW9LvrFeSY0mg9bDbxmPISXbic/QKZOjj44eu4TWlTwUupKQSpntB5cfcBVYZZlSenAQalE=
before_install:
- chmod +x mvnw
install:
- "./mvnw clean install"
script:
- "./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar"
- "./mvnw -P generate generate-test-sources"
- "./mvnw -P run integration-test -Dselenide.remote=http://35.234.68.105:4444/wd/hub"
after_script:
- "./mvnw -P generate-report post-integration-test"
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  github-token:
    secure: uEq3Zuh1ciC7JO8+jEECumLGo/mEYZ2XRjnh1OLloD1uBOepxLvAXhwngOpLejrygfjrPJiOksoRM2DTdYp1i/MyNJ2oE6Jlo9dzQlSYGFxjlau2FchAt+FxAuBugFREVL+Nt8WLoiE8YU5Q+IEsd1Yr09AtEv/QxQ6K8omakQFkFsM7tRrdjvYSpjlnAWdsyCCbwwiYVcM2NM+v6w4C/Q+UnxZuykqhiZN/t3UMyae5InXTZNHZmnckdJjzD07MvTyZOpLg4QkpouByY1khqIBrSBs1dvrmu55YOqgbUqCoLVdt5oUUjK94c/KElyULERf2ErFvvXOzKXewxQgAZ91cFBHmUhILSj5KszpMRxja3yhvCRDmq6KjPvMLyaxcIUbYXMdwaQQsEIwx+hlcy0EQmen1AwXDgnE91JtmgYAqA0t233elNNhhFgFWixUwdy61fbECCS/qr8FgHNvGjjpYWnS9K4BEAR6DOdEzY/G+XfBLX6G0ZIsjJ4p7M4SH5x7KrhSAkXynoJZlqGtgcXE/IsrlXuAmXcpf6S7ttEpaz4fSJpHK+gnRYjp7JpNwXXATuj87f3nJEg7dmI0KkEGEc8ZsfNXMFNvEnxaPtOxTuGjLuG1F2vwS3nwh4AIwsX7e7/AsZeTZrIOihiBq1lIuO6BWOVcDSf3TE6vc8Zw=
  local-dir: target/cluecumber-report
  on:
    branch: master
