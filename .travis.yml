language: java
addons:
  sonarcloud:
    organization: extreme-startup-taf
before_install:
- chmod +x mvnw
install:
- ./mvnw clean install
script:
- ./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar
- ./mvnw -P generate generate-test-sources
- ./mvnw -P run integration-test -Dselenide.remote=http://35.234.68.105:4444/wd/hub
after_script:
- ./mvnw -P generate-report post-integration-test
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  github-token:
    secure: X+9GKWUGdlwST1JTfajhRFsV9cZ5+7qYuS92hD50wFdzhByvHNUSFWKiuz8fpSN7NOj+JsvfXbZqzwcd6bdgJS0esm7hk+ahaB91zJMUP4tt/VzmDoJxTNxVig+Htq48ZBL3GxyjDZZtxz6/54ZqtiU5HhZuBqAmokjKn3IHq8DXPot9TSdYkQp6w9+1sBizhY88M9GrkzciWSnyjRjIrGliI2aH+45k4fvgqKswsHRlDjgrVvGvrfuJn73iooz6Si+09YSN3tze9576di8eIZjXuF3moLW6YtH835zR5JNysvnDig4EE2d13ginR/rPZb8pfwxHcLqdASSyYAk/6u1PBmhAGs2ifmhN+Vv/SxwAmZTtsa32/VMwR70x4GoTmc73O+jrAohBmlCxKTqVn1olXyUaQrr5hzKo/Ci9Vjd0k2q4BGbgJ+Keuw5oXvFNsx5M6BAz3V9tJ/BN7nmli3riuQp8yGVx85191OLqmjhYk6LISYYhjLKGN/UCiijZh6FpSYvNDocdR2jM5+tdyV2dijmYgD/KfFkRe5WDNCMEdbFSrcXWDIb82Ws0qKwaXcLxO4gN7MxrEF9p6EupTJ6bOEuQuPXad751JCCErFYNwONFgzPggoZYQU2cvQ7DnDOqvb9VWi/PHuXJYFY+oI9q9Z3Eg2PUEg7ynIzckVU=
  local-dir: target/cluecumber-report
  on:
    branch: master