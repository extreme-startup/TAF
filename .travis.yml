language: java
addons:
  sonarcloud:
    organization: extreme-startup-taf
before_install:
- chmod +x mvnw
install:
- "./mvnw clean install"
script:
- "./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar"
- "./mvnw -P generate generate-test-sources"
- "./mvnw -P run integration-test -Dselenide.remote=http://35.234.68.105:4444/wd/hub"
after_script:
- "./mvnw -P generate-report post-integration-test"
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  github-token:
    secure: uEq3Zuh1ciC7JO8+jEECumLGo/mEYZ2XRjnh1OLloD1uBOepxLvAXhwngOpLejrygfjrPJiOksoRM2DTdYp1i/MyNJ2oE6Jlo9dzQlSYGFxjlau2FchAt+FxAuBugFREVL+Nt8WLoiE8YU5Q+IEsd1Yr09AtEv/QxQ6K8omakQFkFsM7tRrdjvYSpjlnAWdsyCCbwwiYVcM2NM+v6w4C/Q+UnxZuykqhiZN/t3UMyae5InXTZNHZmnckdJjzD07MvTyZOpLg4QkpouByY1khqIBrSBs1dvrmu55YOqgbUqCoLVdt5oUUjK94c/KElyULERf2ErFvvXOzKXewxQgAZ91cFBHmUhILSj5KszpMRxja3yhvCRDmq6KjPvMLyaxcIUbYXMdwaQQsEIwx+hlcy0EQmen1AwXDgnE91JtmgYAqA0t233elNNhhFgFWixUwdy61fbECCS/qr8FgHNvGjjpYWnS9K4BEAR6DOdEzY/G+XfBLX6G0ZIsjJ4p7M4SH5x7KrhSAkXynoJZlqGtgcXE/IsrlXuAmXcpf6S7ttEpaz4fSJpHK+gnRYjp7JpNwXXATuj87f3nJEg7dmI0KkEGEc8ZsfNXMFNvEnxaPtOxTuGjLuG1F2vwS3nwh4AIwsX7e7/AsZeTZrIOihiBq1lIuO6BWOVcDSf3TE6vc8Zw=
  local-dir: target/cluecumber-report
  on:
    branch: master

