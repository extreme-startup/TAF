language: java
addons:
  sonarcloud:
    organization: extreme-startup-taf
    token:
      secure: "NgZbeUq6N8TzQiZiIZXEH7yze2YZ7vIOIJeuTwKkX/lJ/ZH2Z2iKumzzSxsX817ovY3MGSgapOIkAD1bPjnK8NfTDwJSvUw3wh2Qxmmi3VqXSTg6ye6ldmKplESS5KH+aMSvo0cNaRIPGHvw2tyvnMmv9V0n+iBmVaBJu2tUTx9+60NycA7QrDMu+QN59agmKK3k8u0dkFpKiVjPwvShOf8nuWkDUXmYTjooscATb9kpSIk/EIaLRYddK1
      nm7owgt5o+PbZUWNv6QPiGJWfZ8gGaZH8t60mYWLt4bJvOHQzofkQEQ5G24leseNC1qrPE9zCEcIcZY7heE+rJ1Gu7kzOzMcVJcKOg/eavGmyLq6B0Oq+6TiPpaxXGaRrbQKxLazVWwOprTQnGuDKjaFuu8goTBltW6W5X8TpmPnPQ6gFBjQt3zlsBtdnXTHuI4zmKGchDC5VOrPhOL6JAjtKBvV32qe51Z29yQe56+2Hhbuitx15EEKSl3hsh2GPQJWp
      HkNGFx23J6bTwtWn+VQCHNqgs04KT9W4jA4waDexCEPqoy/tHyC16ZVUnf7u2MwM/UkDgIxBGOewJIs1nO9DsXH1vIqKS24t8pSRPY3oswCtzqbdBLQCqkSoD1RPtb2IYfK+ZiW2hKHzp3Rxwf3MhH8BNLvIEnBflH84P/SPkLWw="
before_install:
- chmod +x mvnw
install:
- "./mvnw clean install"
script:
- "./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar"
- "./mvnw -P generate generate-test-sources"
- "./mvnw -P run integration-test -Dselenide.remote=http://35.234.68.105:4444/wd/hub"
after_script:
- "./mvnw -P generate-report post-integration-test"
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  github-token:
    secure: uEq3Zuh1ciC7JO8+jEECumLGo/mEYZ2XRjnh1OLloD1uBOepxLvAXhwngOpLejrygfjrPJiOksoRM2DTdYp1i/MyNJ2oE6Jlo9dzQlSYGFxjlau2FchAt+FxAuBugFREVL+Nt8WLoiE8YU5Q+IEsd1Yr09AtEv/QxQ6K8omakQFkFsM7tRrdjvYSpjlnAWdsyCCbwwiYVcM2NM+v6w4C/Q+UnxZuykqhiZN/t3UMyae5InXTZNHZmnckdJjzD07MvTyZOpLg4QkpouByY1khqIBrSBs1dvrmu55YOqgbUqCoLVdt5oUUjK94c/KElyULERf2ErFvvXOzKXewxQgAZ91cFBHmUhILSj5KszpMRxja3yhvCRDmq6KjPvMLyaxcIUbYXMdwaQQsEIwx+hlcy0EQmen1AwXDgnE91JtmgYAqA0t233elNNhhFgFWixUwdy61fbECCS/qr8FgHNvGjjpYWnS9K4BEAR6DOdEzY/G+XfBLX6G0ZIsjJ4p7M4SH5x7KrhSAkXynoJZlqGtgcXE/IsrlXuAmXcpf6S7ttEpaz4fSJpHK+gnRYjp7JpNwXXATuj87f3nJEg7dmI0KkEGEc8ZsfNXMFNvEnxaPtOxTuGjLuG1F2vwS3nwh4AIwsX7e7/AsZeTZrIOihiBq1lIuO6BWOVcDSf3TE6vc8Zw=
  local-dir: target/cluecumber-report
  on:
    branch: master